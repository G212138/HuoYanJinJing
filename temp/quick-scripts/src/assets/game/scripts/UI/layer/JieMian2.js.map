{"version":3,"sources":["assets\\game\\scripts\\UI\\layer\\JieMian2.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { NetWork } from \"../../../../frame/scripts/Http/NetWork\";\r\nimport { SoundManager } from \"../../../../frame/scripts/Manager/SoundManager\";\r\nimport { SyncDataManager } from \"../../../../frame/scripts/Manager/SyncDataManager\";\r\nimport { T2M } from \"../../../../frame/scripts/SDK/T2M\";\r\nimport { HitTest } from \"../../../../frame/scripts/Utils/HitTest\";\r\nimport { MathUtils } from \"../../../../frame/scripts/Utils/MathUtils\";\r\nimport { EventType } from \"../../Data/EventType\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class JieMian2 extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    private shiWuNode: cc.Node = null;\r\n    @property(cc.Node)\r\n    private yunDongNode: cc.Node = null;\r\n    @property(cc.Node)\r\n    private nanNode: cc.Node = null;\r\n    @property(cc.Node)\r\n    private nvNode: cc.Node = null;\r\n\r\n\r\n    @property(cc.Node)\r\n    private tiJiaoBtn: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    private weightHandle: cc.Node = null;\r\n    @property(cc.Label)\r\n    private weightLabel: cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    private heightHandle: cc.Node = null;\r\n    @property(cc.Label)\r\n    private heightLabel: cc.Label = null;\r\n\r\n\r\n    private get sysData() {\r\n        return SyncDataManager.getSyncData().customSyncData;\r\n    }\r\n\r\n    private set sysData(value) {\r\n        SyncDataManager.getSyncData().customSyncData = value;\r\n    }\r\n\r\n    onLoad() {\r\n\r\n    }\r\n    onDestroy() {\r\n    }\r\n\r\n    public initData() {\r\n        this.setTiJiaoBtn();\r\n        this.setBtnStatus();\r\n        this.setData();\r\n        this.scheduleOnce(() => {\r\n            this.setGuide();\r\n        }, 1)\r\n    }\r\n\r\n    private setGuide() {\r\n        if (this.sysData.gameData2.yunDongIndex != -1 || this.sysData.gameData2.shiWuIndex != -1) {\r\n            this.node.getChildByName(\"shouzhi1\").active = false;\r\n            return;\r\n        }\r\n\r\n        let curNode = this.node.getChildByName(\"shouzhi1\");\r\n        curNode.position = cc.v3(468, 251);\r\n        curNode.active = true;\r\n        curNode.opacity = 255;\r\n        cc.tween(curNode)\r\n            .to(0.3, { scale: 0.8 })\r\n            .to(0.3, { scale: 1 })\r\n            .to(0.3, { scale: 0.8 })\r\n            .to(0.3, { scale: 1 })\r\n            .call(() => {\r\n                curNode.position = cc.v3(468, -90);\r\n                cc.tween(curNode)\r\n                    .to(0.3, { scale: 0.8 })\r\n                    .to(0.3, { scale: 1 })\r\n                    .to(0.3, { scale: 0.8 })\r\n                    .to(0.3, { scale: 1 })\r\n                    .call(() => {\r\n                        curNode.active = false;\r\n                    })\r\n                    .start();\r\n            })\r\n            .start();\r\n    }\r\n\r\n    private setBtnStatus() {\r\n        for (let i = 0; i < this.shiWuNode.children.length; i++) {\r\n            let node = this.shiWuNode.children[i];\r\n            node.getChildByName(\"checkmark\").active = i == this.sysData.gameData2.shiWuIndex;\r\n        }\r\n        for (let i = 0; i < this.yunDongNode.children.length; i++) {\r\n            let node = this.yunDongNode.children[i];\r\n            node.getChildByName(\"checkmark\").active = i == this.sysData.gameData2.yunDongIndex;\r\n        }\r\n    }\r\n\r\n    private isClickIng = false;\r\n    public onClickShiWu(event: cc.Event, type: any) {\r\n        if (this.isClickIng) return;\r\n        this.node.getChildByName(\"shouzhi1\").active = false;\r\n        this.isClickIng = true;\r\n        SoundManager.stopSoundByName(\"点击音效\");\r\n        SoundManager.playEffect(\"点击音效\", false, false, false);\r\n        if (event.target.parent.name == \"shiWuNode\") {\r\n            this.sysData.gameData2.shiWuIndex = Number(event.target.name);\r\n        } else {\r\n            this.sysData.gameData2.yunDongIndex = Number(event.target.name);\r\n        }\r\n        this.setBtnStatus();\r\n        this.setTiJiaoBtn();\r\n        this.scheduleOnce(() => {\r\n            this.isClickIng = false;\r\n        }, 0.2)\r\n    }\r\n\r\n\r\n    private inRectName = null;\r\n    private getHitNodeIndex(nodePos: cc.Vec2): boolean {\r\n        let InRect = false;\r\n        let nodeArr = [this.weightHandle, this.heightHandle];\r\n        for (let i = 0; i < nodeArr.length; i++) {\r\n            if (HitTest.posInRect(nodePos, nodeArr[i])) {\r\n                this.inRectName = nodeArr[i].name;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (this.inRectName == null) {\r\n            return false;\r\n        }\r\n        let node = this.inRectName == \"weightHandle\" ? this.weightHandle : this.heightHandle;\r\n        if (HitTest.posInRect(nodePos, node)) {\r\n            InRect = true;\r\n        }\r\n        return InRect;\r\n    }\r\n\r\n    private isStartInRect = null;\r\n    private onDragStart(data: any) {\r\n        this.isStartInRect = this.getHitNodeIndex(cc.v2(data.pos.x, data.pos.y));\r\n        if (this.isStartInRect) {\r\n            SoundManager.stopSoundByName(\"拖动音效\")\r\n            SoundManager.playEffect(\"拖动音效\", false, false, false)\r\n        }\r\n    }\r\n\r\n    private onDragMove(data: any) {\r\n        if (!this.isStartInRect) {\r\n            return;\r\n        }\r\n        this.node.getChildByName(\"shouzhi1\").active = false;\r\n        let node = this.inRectName == \"weightHandle\" ? this.weightHandle : this.heightHandle;\r\n        let pos = node.parent.convertToNodeSpaceAR(cc.v2(data.pos.x, data.pos.y));\r\n        let movex = Math.round(pos.x);\r\n        let value = this.inRectName == \"weightHandle\" ? 295 : 305;\r\n        if (movex <= -value) {\r\n            movex = -value\r\n        } else if (movex >= value) {\r\n            movex = value\r\n        }\r\n        node.x = movex;\r\n        let dis = MathUtils.getInstance().getDistance(cc.v3(0, -value), cc.v3(0, movex));\r\n        let value2 = this.inRectName == \"weightHandle\" ? 590 : 610;\r\n        let progress = dis / value2;\r\n\r\n        if (this.inRectName == \"weightHandle\") {\r\n            this.sysData.gameData2.weightDis = dis;\r\n            this.sysData.gameData2.weightValue = Math.round(100 * progress);\r\n        } else {\r\n            this.sysData.gameData2.heightDis = dis;\r\n            this.sysData.gameData2.heightValue = Math.round(200 * progress);\r\n        }\r\n        this.setData();\r\n    }\r\n\r\n    private onDragEnd(data: any) {\r\n        if (data.isClick || !this.isStartInRect) {\r\n            return;\r\n        }\r\n        this.isStartInRect = false;\r\n        this.inRectName = null;\r\n        this.setTiJiaoBtn();\r\n    }\r\n\r\n    private setData() {\r\n        this.heightHandle.x = -305 + this.sysData.gameData2.heightDis;\r\n        this.heightLabel.string = this.sysData.gameData2.heightValue + \"cm\";\r\n\r\n        this.weightHandle.x = -295 + this.sysData.gameData2.weightDis;\r\n        this.weightLabel.string = this.sysData.gameData2.weightValue + \"kg\";\r\n\r\n        this.nanNode.active = this.sysData.gameData1.xingBie == 0;\r\n        this.nvNode.active = this.sysData.gameData1.xingBie == 1;\r\n    }\r\n\r\n    private setTiJiaoBtn() {\r\n        this.tiJiaoBtn.active = true;\r\n        if (this.sysData.gameData2.weightValue == 0 || this.sysData.gameData2.heightValue == 0 ||\r\n            this.sysData.gameData2.yunDongIndex == -1 || this.sysData.gameData2.shiWuIndex == -1) {\r\n            this.tiJiaoBtn.children[0].active = false;\r\n            this.tiJiaoBtn.children[1].active = true;\r\n        } else {\r\n            this.tiJiaoBtn.children[0].active = true;\r\n            this.tiJiaoBtn.children[1].active = false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n"]}