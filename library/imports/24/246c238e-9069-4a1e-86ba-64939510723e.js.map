{"version":3,"sources":["assets\\game\\scripts\\UI\\panel\\GamePanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { ListenerManager } from '../../../../frame/scripts/Manager/ListenerManager';\nimport { SyncData, SyncDataManager } from '../../../../frame/scripts/Manager/SyncDataManager';\nimport BaseGamePanel from '../../../../frame/scripts/UI/Panel/BaseGamePanel';\nimport { CustomSyncData } from '../../Data/CustomSyncData';\nimport { EventType } from '../../Data/EventType';\nimport { EditorManager } from '../../Manager/EditorManager';\nimport GameLayer from '../layer/GameLayer';\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class GamePanel extends BaseGamePanel {\n    public static className = 'GamePanel';\n\n    start() {\n        super.start();\n        ListenerManager.on(EventType.GAME_OVER, this.gameOver, this);\n        ListenerManager.on(EventType.REPORT_RIGHT, this.answerRight, this);\n        ListenerManager.on(EventType.REPORT_WRONG, this.answerWrong, this);\n    }\n\n    onDestroy() {\n        super.onDestroy();\n        ListenerManager.off(EventType.GAME_OVER, this.gameOver, this);\n        ListenerManager.off(EventType.REPORT_RIGHT, this.answerRight, this);\n        ListenerManager.off(EventType.REPORT_WRONG, this.answerWrong, this);\n    }\n\n    /**\n     * 游戏入口\n     * 这里已经拿到数据\n     */\n    protected setPanel() {\n        super.setPanel();\n        // TODO 业务逻辑\n        console.log(\"EditorManager.editorData.itemData\", EditorManager.editorData.itemData);\n        this.node.getComponent(GameLayer).init();\n    }\n\n    /**\n     * 心跳回调（当actionId不相等时才会触发）\n     * @param recovery\n     */\n    protected onRecoveryData(recovery: SyncData): void {\n        super.onRecoveryData(recovery);\n        console.log(\"==========重连=============\");\n        this.node.getComponent(GameLayer).init();\n    }\n\n    /**\n     * 作答正确\n     * 父类实现了数据上报\n     * @param isCurLevelFinish 本关是否完成\n     */\n    protected answerRight(isCurLevelFinish: boolean) {\n        super.answerRight(isCurLevelFinish);\n    }\n\n    /**\n     * 作答错误\n     * 父类实现了数据上报\n     * @param isCurLevelFinish 本关是否完成\n     */\n    protected answerWrong(isCurLevelFinish: boolean = false) {\n        super.answerWrong(isCurLevelFinish);\n    }\n\n    /**\n     * 游戏结束\n     * 父类实现了结算界面（游戏结束或星级评判）的弹出\n     */\n    protected gameOver() {\n        super.gameOver();\n    }\n\n    /**\n     * 重玩\n     */\n    protected onReplay() {\n        super.onReplay();\n        SyncDataManager.getSyncData().customSyncData = new CustomSyncData();\n        this.node.getComponent(GameLayer).init();\n    }\n\n    // /**\n    // * 附加题\n    // */\n    // protected onEnterAdditional() {\n    //     super.onEnterAdditional();\n    //     console.log(\"=========进入附加题============\");\n    //     SyncDataManager.getSyncData().customSyncData = new CustomSyncData();\n    //     this.gamelayer._initData();\n    // }\n\n    update(dt) {\n        super.update(dt);\n    }\n}\n"]}