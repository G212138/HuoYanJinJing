{"version":3,"sources":["assets\\frame\\scripts\\Manager\\ReportManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { ConstValue } from '../../../game/scripts/Data/ConstValue';\nimport { EditorManager } from '../../../game/scripts/Manager/EditorManager';\nimport GameMsg from '../SDK/GameMsg';\n\n/**\n * 作答数据管理类\n */\nclass ReportManagerClass {\n    public static _instance: ReportManagerClass = null;\n    public static getInstance() {\n        if (!this._instance) {\n            this._instance = new ReportManagerClass();\n        }\n        return this._instance;\n    }\n\n    /** 星级标准 */\n    public _startLevelConfig: number[] = [80, 50, 0];\n    /** ---------------------------必需参数--------------------------- */\n    public _type: string = 'txt';\n    public _result: Array<ExtraLevelData> = [];\n    /** 附加题数据 */\n    public _additionalResult: Array<AdditionalLevelData> = [];\n    // public _gameOver: GameOverData = null;\n    /** 第几次作答 */\n    public _playIndex: number = 0;\n\n    /** ---------------------------辅助参数--------------------------- */\n    /** 每关开始时间 */\n    public _levelStartTime: number = 0;\n\n    /** 每关作答耗时 */\n    public _coastTimeArr: number[] = [];\n    /** 添加 关/步骤 时间 */\n    public addCoastTime(tm: number) {\n        let time = tm - this._levelStartTime;\n        time = Math.ceil(time / 1000) * 1000; //时间取整\n        this._coastTimeArr[this._curLevelId] = time;\n    }\n    /** 获取总耗时 */\n    public getCoastTimes() {\n        return this._coastTimeArr;\n    }\n    public setCoastTimes(arr: number[]) {\n        this._coastTimeArr = arr;\n    }\n\n    /** 附加题每关作答耗时 */\n    public _additionalCoastTimeArr: number[] = [];\n    public addAdditionalCoastTime(tm: number) {\n        let time = tm - this._levelStartTime;\n        time = Math.ceil(time / 1000) * 1000; //时间取整\n        this._additionalCoastTimeArr[this._curAdditionalId] = time;\n    }\n    public getAdditionalCoastTime() {\n        return this._additionalCoastTimeArr;\n    }\n    public setAdditionalCoastTimes(arr: number[]) {\n        this._additionalCoastTimeArr = arr;\n    }\n\n    /** 每关作答次数 */\n    public _tryCounts: number[] = [];\n    /** 获取总次数 */\n    public getTryCounts() {\n        return this._tryCounts;\n    }\n    public setTryCounts(arr: number[]) {\n        this._tryCounts = arr;\n    }\n    /** 添加 关/步骤 次数 */\n    public addTryCount(bCorrect: boolean) {\n        if (this._tryCounts[this._curLevelId]) {\n            this._tryCounts[this._curLevelId] += 1;\n        } else {\n            this._tryCounts[this._curLevelId] = 1;\n        }\n\n        if (void 0 === this._correctCounts[this._curLevelId]) {\n            this._correctCounts[this._curLevelId] = 0;\n        }\n        if (bCorrect) {\n            this._correctCounts[this._curLevelId] += 1;\n        }\n    }\n\n    /** 附加题每关作答次数 */\n    public _additionalTryCounts: number[] = [];\n    /** 附加题获取总次数 */\n    public getAdditionalTryCounts() {\n        return this._additionalTryCounts;\n    }\n    public setAdditionalTryCounts(arr: number[]) {\n        this._additionalTryCounts = arr;\n    }\n    /** 添加 关/步骤 次数 */\n    public addAdditionalTryCount(bCorrect: boolean) {\n        if (this._additionalTryCounts[this._curAdditionalId]) {\n            this._additionalTryCounts[this._curAdditionalId] += 1;\n        } else {\n            this._additionalTryCounts[this._curAdditionalId] = 1;\n        }\n\n        if (void 0 === this._additionalCorrectCounts[this._curAdditionalId]) {\n            this._additionalCorrectCounts[this._curAdditionalId] = 0;\n        }\n        if (bCorrect) {\n            this._additionalCorrectCounts[this._curAdditionalId] += 1;\n        }\n    }\n\n    /** 实际作答正确次数 */\n    public _correctCounts: number[] = [];\n    public getCorrectCounts() {\n        return this._correctCounts;\n    }\n    public setCorrectCounts(arr: number[]) {\n        this._correctCounts = arr;\n    }\n\n    /** 实际作答正确次数 */\n    public _additionalCorrectCounts: number[] = [];\n    public getAdditionalCorrectCounts() {\n        return this._additionalCorrectCounts;\n    }\n    public setAdditionalCorrectCounts(arr: number[]) {\n        this._additionalCorrectCounts = arr;\n    }\n\n    /** 每关作答状态 */\n    public _AnswerResults: AnswerResult[] = [];\n    /** 获取总次数 */\n    public getAnswerResults() {\n        return this._AnswerResults;\n    }\n    public setAnswerResults(arr: AnswerResult[]) {\n        this._AnswerResults = arr;\n    }\n    public setAnswerResultByLevel(level: number, answer: AnswerResult) {\n        this._AnswerResults[level] = answer;\n    }\n\n    /** 附加题每关作答状态 */\n    public _additionalAnswerRes: AnswerResult[] = [];\n    /** 获取附加题总次数 */\n    public getadditionalAnswerRes() {\n        return this._additionalAnswerRes;\n    }\n    public setAdditionalAnswerRes(arr: AnswerResult[]) {\n        this._additionalAnswerRes = arr;\n    }\n    public setAdditionalAnswerResultByLevel(level: number, answer: AnswerResult) {\n        this._additionalAnswerRes[level] = answer;\n    }\n\n    /** 总关卡数目 */\n    public _levelCount: number = 0;\n\n    /** 当前关卡id  从0开始*/\n    public _curLevelId: number = 0;\n\n    /** 总附加题关卡数目 */\n    public _additionalCount: number = 0;\n\n    /** 当前附加题关卡id，从0开始 */\n    public _curAdditionalId: number = 0;\n\n    /** 实际作答正确次数 */\n    // public _correctCount: number = 0;\n\n    /** 是否全部关卡通关 */\n    public isAllOver: boolean = false;\n\n    /** 是否整体未操作 */\n    // public _isUndo: boolean = true;\n\n    /**\n     * 是否 当前步骤/关卡 未操作，\n     * 只要用户有操作就修改此值\n     * */\n    // public _isCurLevelUndo: boolean = true;\n\n    /** 是否已经上报过game_over */\n    public _isReportedGameOver: boolean = false;\n\n    /** 需要判断正误的总步数 */\n    public _stepCount: number = 0;\n\n    /**\n     * 初始化要上报的数据\n     *\n     * @param {number} levelCount 关卡总数\n     */\n    public initReportData(levelCount: number) {\n        this._playIndex = 1;\n\n        this._levelCount = levelCount;\n        this._additionalCount = EditorManager.editorData.additional.length;\n\n        this.resetData();\n\n        if (EditorManager['getStepCount']) {\n            this._stepCount = EditorManager['getStepCount']();\n        } else {\n            this._stepCount = levelCount;\n        }\n        GameMsg.request_level_info({ levelCount: this._levelCount, curLevel: this._curLevelId + 1 });\n    }\n\n    /**\n     * 通关之后的重玩\n     *  只有外层index自增   其余数据恢复初始状态\n     *\n     * @memberof DataReportMgr\n     */\n    public replayGame() {\n        ++this._playIndex;\n\n        this.resetData();\n\n        GameMsg.request_level_info({ levelCount: this._levelCount, curLevel: this._curLevelId + 1 });\n    }\n\n    /**\n     * 重置数据\n     */\n    public resetData() {\n        this._curLevelId = 0;\n        this._curAdditionalId = 0;\n        this.isAllOver = false;\n        this._isReportedGameOver = false;\n\n        this._result = [];\n        for (let i = 0; i < this._levelCount; i++) {\n            let levelInfo = this._levelCount > 1 ? `${ConstValue.GameName}_第${i + 1}关` : ConstValue.GameName;\n            let _levelData = new ExtraLevelData();\n            _levelData.id = i + 1;\n            _levelData.question_info = levelInfo;\n            this._result.push(_levelData);\n        }\n\n        /**获取附附加题关卡数量 */\n        this._curAdditionalId = 0;\n        this._additionalResult = [];\n        for (let i = 0; i < this._additionalCount; i++) {\n            let info = `附加题_第${i + 1}关`\n            let data = new AdditionalLevelData();\n            data.id = i + 1;\n            data.question_info = info;\n            this._additionalResult.push(data);\n        }\n\n        this._levelStartTime = Date.now();\n\n        this.setTryCounts([]);\n        this.setCorrectCounts([]);\n        this.setCoastTimes([]);\n        this.setAnswerResults([]);\n\n        this.setAdditionalTryCounts([]);\n        this.setAdditionalCorrectCounts([]);\n        this.setAdditionalCoastTimes([]);\n        this.setAdditionalAnswerRes([]);\n    }\n\n    // public setFirstTouch() {\n    //     this._isCurLevelUndo = false;\n    //     this._isUndo = false;\n    // }\n\n    /**\n     * 更新关卡作答数据\n     *\n     * @param {boolean} bCorrect 是否作答正确\n     * @param {boolean} bCurLevelFinish 当前关卡是否已完成 用于按步骤上报时状态设置为half，默认为true\n     */\n    public reportLevelResult(bCorrect: boolean, bCurLevelFinish: boolean = true) {\n        let curTime = Date.now();\n        if (this._curLevelId >= this._levelCount) {\n            if (void 0 === this._additionalResult[this._curAdditionalId]) return;\n            this.addAdditionalCoastTime(curTime);\n            this.addAdditionalTryCount(bCorrect);\n            let answerRes = AnswerResult.NoAnswer;\n            if (bCorrect) {\n                answerRes = bCurLevelFinish ? AnswerResult.AnswerRight : AnswerResult.AnswerHalf;\n            } else {\n                answerRes = AnswerResult.AnswerError;\n            }\n            this.setAdditionalAnswerResultByLevel(this._curAdditionalId, answerRes);\n            let _reportData = this.getReportData();\n            console.log(\"additional report level data: \", _reportData);\n            GameMsg.additionalAnswerSyncSend(_reportData);\n\n            if (bCurLevelFinish) {\n                ++this._curAdditionalId;\n                this._levelStartTime = Date.now();\n                if (this._curAdditionalId === this._additionalCount) {\n                    this.isAllOver = true;\n                    this.reportGameOver();\n                }\n                // else {\n                //     GameMsg.request_level_info({ levelCount: this._levelCount, curLevel: this._curLevelId + 1 });\n                // }\n            }\n        }\n        else {\n            if (void 0 === this._result[this._curLevelId]) return;\n            this.addCoastTime(curTime);\n            this.addTryCount(bCorrect);\n            let answerRes = AnswerResult.NoAnswer;\n            if (bCorrect) {\n                answerRes = bCurLevelFinish ? AnswerResult.AnswerRight : AnswerResult.AnswerHalf;\n            } else {\n                answerRes = AnswerResult.AnswerError;\n            }\n            this.setAnswerResultByLevel(this._curLevelId, answerRes);\n\n            let _reportData = this.getReportData();\n            _reportData.gameOver = null;\n            console.log(_reportData);\n            GameMsg.answerSyncSend(_reportData);\n\n            if (bCurLevelFinish) {\n                ++this._curLevelId;\n                this._levelStartTime = Date.now();\n                if (this._curLevelId === this._levelCount) {\n                    this.isAllOver = true;\n                    this.reportGameOver();\n                } else {\n                    GameMsg.request_level_info({ levelCount: this._levelCount, curLevel: this._curLevelId + 1 });\n                }\n            }\n        }\n    }\n\n    /**\n     * 作答结束/端上收题 数据上报\n     *\n     * @memberof DataReportMgr\n     */\n    public reportGameOver() {\n        if (this._isReportedGameOver) {\n            return;\n        }\n\n        let _reporGameOvertData = this.getReportData();\n        console.log(_reporGameOvertData);\n        if (this._curLevelId === this._levelCount && this._additionalCount > 0 && this._curAdditionalId === this._additionalCount) {\n            GameMsg.additionalOver(_reporGameOvertData)\n        }\n        else {\n            GameMsg.gameOver(_reporGameOvertData);\n        }\n        GameMsg.gameStatisticData(_reporGameOvertData.ext);\n\n        /** 上报game_over数据之后修改状态 */\n        this._isReportedGameOver = true;\n    }\n\n    /**\n     * 获取关卡数据\n     */\n    public getResultData(isExtra: boolean): LevelData[] | ExtraLevelData[] {\n        for (let i = 0; i < this._result.length; ++i) {\n            let levelData = this._result[i];\n            const levelIndex = levelData.id - 1;\n            const answerResult = this.getAnswerResults()[levelIndex] || AnswerResult.NoAnswer;\n            const answerNum = this.getTryCounts()[levelIndex] || 0;\n            const answerCorrect = this.getCorrectCounts()[levelIndex] || 0;\n            const answerWrong = answerNum - answerCorrect;\n            const answerTime = Math.ceil((this.getCoastTimes()[levelIndex] || 0) / 1000);\n            levelData.answer_res = answerResult;\n            levelData.answer_num = answerNum;\n            levelData.correct_num = answerCorrect;\n            levelData.wrong_num = answerWrong;\n            levelData.answer_time = answerTime;\n            levelData.has_res = EditorManager.hasResult;\n        }\n\n        if (isExtra) {\n            return this._result;\n        } else {\n            let result = [];\n            this._result.forEach((info) => {\n                let extraLevelData = new LevelData();\n                extraLevelData.id = info.id;\n                extraLevelData.question_info = info.question_info;\n                extraLevelData.answer_res = info.answer_res;\n                extraLevelData.answer_num = info.answer_num;\n                extraLevelData.answer_time = info.answer_time;\n\n                result.push(extraLevelData);\n            });\n\n            return result;\n        }\n    }\n\n    /**\n     * 获取附加题数据\n     */\n    public getAdditionalResultData(): AdditionalData {\n        for (let i = 0, l = this._additionalResult.length; i < l; i++) {\n            let levelData = this._additionalResult[i];\n            const levelIndex = levelData.id - 1;\n            const answerResult = this.getadditionalAnswerRes()[levelIndex] || AnswerResult.NoAnswer;\n            const answerNum = this.getAdditionalTryCounts()[levelIndex] || 0;\n            const answerCorrect = this.getAdditionalCorrectCounts()[levelIndex] || 0;\n            const answerWrong = answerNum - answerCorrect;\n            const answerTime = Math.ceil((this.getAdditionalCoastTime()[levelIndex] || 0) / 1000);\n            levelData.answer_res = answerResult;\n            levelData.answer_num = answerNum;\n            levelData.correct_num = answerCorrect;\n            levelData.wrong_num = answerWrong;\n            levelData.answer_time = answerTime;\n        }\n        let addRes = new AdditionalOver();\n        addRes.pass = false;\n        if (this._curAdditionalId == this._additionalCount) {\n            addRes.pass = true;\n        }\n        let addData = new AdditionalData();\n        addData.gameOver = addRes;\n        addData.result = this._additionalResult;\n        return addData;\n    }\n\n\n    /**\n     * 获取gameOver数据\n     */\n    public getGameOverData(isExtra: boolean): GameOverData | ExtraGameOverData {\n        let totalTryCount = eval(this.getTryCounts().join('+'));\n        totalTryCount = totalTryCount ? totalTryCount : 0;\n        let totalCorrectCount = eval(this.getCorrectCounts().join('+'));\n        totalCorrectCount = totalCorrectCount ? totalCorrectCount : 0;\n        const totalWrongCount = totalTryCount - totalCorrectCount;\n        let totalTimes = eval(this.getCoastTimes().join('+'));\n        totalTimes = totalTimes ? totalTimes : 0;\n\n        let gameOver: GameOverData | ExtraGameOverData = null;\n        if (isExtra) {\n            gameOver = new ExtraGameOverData();\n            (gameOver as ExtraGameOverData).game_correct_num = totalCorrectCount;\n            (gameOver as ExtraGameOverData).game_wrong_num = totalWrongCount;\n            (gameOver as ExtraGameOverData).cur_level_id = Math.min(this._curLevelId + 1, this._levelCount);\n            (gameOver as ExtraGameOverData).total_level_num = this._levelCount;\n            (gameOver as ExtraGameOverData).star_num = this.getStarCount();\n            (gameOver as ExtraGameOverData).step_count = this._stepCount;\n        } else {\n            gameOver = new GameOverData();\n        }\n\n        gameOver.percentage = this.isAllOver ? Math.round((totalCorrectCount / totalTryCount) * 100) : 0;\n        gameOver.answer_all_time = Math.ceil(totalTimes / 1000);\n        gameOver.complete_degree = this.isAllOver ? 100 : Math.ceil((totalCorrectCount / this._stepCount) * 100);\n        gameOver.answer_all_state =\n            0 === totalTryCount\n                ? AnswerResult.NoAnswer\n                : this.isAllOver\n                    ? AnswerResult.AnswerRight\n                    : AnswerResult.AnswerHalf;\n\n        return gameOver;\n    }\n\n    public getExtraData(): ExtraData {\n        let extraData: ExtraData = new ExtraData();\n        extraData.type = this._type;\n        extraData.index = this._playIndex;\n        extraData.result = this.getResultData(true) as ExtraLevelData[];\n        extraData.gameOver = this.getGameOverData(true) as ExtraGameOverData;\n\n        return extraData;\n    }\n\n    public getReportData(): ReportData {\n        let reportData: ReportData = new ReportData();\n        reportData.type = this._type;\n        reportData.index = this._playIndex;\n        reportData.result = this.getResultData(false) as LevelData[];\n        reportData.gameOver = this.getGameOverData(false) as GameOverData;\n        reportData.ext = this.getExtraData();\n        reportData.additional = this.getAdditionalResultData();\n\n        return reportData;\n    }\n\n    /**\n     * 获取星数\n     */\n    public getStarCount() {\n        const gameOverData = this.getGameOverData(false);\n        let starCount = 0;\n        /** 计算星级 */\n        if (gameOverData.percentage >= this._startLevelConfig[0]) {\n            starCount = 3;\n        } else if (gameOverData.percentage >= this._startLevelConfig[1]) {\n            starCount = 2;\n        } else if (gameOverData.percentage > this._startLevelConfig[2]) {\n            starCount = 1;\n        } else {\n            starCount = 0;\n        }\n\n        return starCount;\n    }\n\n    /**\n     * 需要同步的数据\n     *\n     * @memberof DataReportMgr\n     */\n    public getSyncData() {\n        let _data = {\n            bReportedGameOver: this._isReportedGameOver, //是否已经上报过game_over\n            playCount: this._playIndex, //统计作答次数  以通关为维度\n            startTime: this._levelStartTime, //每关开始时间\n            coastTimes: this.getCoastTimes(), //每关作答耗时\n            tryCounts: this.getTryCounts(), //每关尝试次数\n            correctCounts: this.getCorrectCounts(), //每关作答正确次数\n            curLevelId: this._curLevelId, //当前关卡\n            curAdditionalId: this._curAdditionalId,\n            bFinished: this.isAllOver,\n            answerResults: this.getAnswerResults(), //每关作答状态\n            additionalRes: this.getadditionalAnswerRes() //附加题每关作答状态\n        };\n        return _data;\n    }\n\n    /**\n     * 设置接收到的作答状态到本地\n     *\n     * @param {*} data\n     * @memberof DataReportMgr\n     */\n    public setSyncData(data: any) {\n        this._isReportedGameOver = data.bReportedGameOver;\n        this._playIndex = data.playCount;\n        this._levelStartTime = data.startTime;\n        this.setCoastTimes(data.coastTimes);\n        this.setTryCounts(data.tryCounts);\n        this.setCorrectCounts(data.correctCounts);\n        this._curLevelId = data.curLevelId;\n        this._curAdditionalId = data.curAdditionalId;\n        this.isAllOver = data.bFinished;\n        this.setAnswerResults(data.answerResults);\n        this.setAdditionalAnswerRes(data.additionalRes);\n\n        GameMsg.request_level_info({ levelCount: this._levelCount, curLevel: this._curLevelId + 1 });\n    }\n\n    public isPassGame() {\n        console.log(\"curLevelId and levelCount\", this._curLevelId, this._levelCount);\n        return this._curLevelId === this._levelCount;\n    }\n\n    public isPassAdditonal() {\n        console.log(\"_curAdditionalId and _additionalCount\", this._curAdditionalId, this._additionalCount);\n        return this._curAdditionalId === this._additionalCount;\n    }\n}\nexport const ReportManager = ReportManagerClass.getInstance();\n\nexport enum AnswerResult {\n    AnswerError = 'answer_error', //答错\n    AnswerRight = 'answer_right', //答对\n    AnswerHalf = 'answer_half', //未答完\n    NoAnswer = 'no_answer', //未作答\n}\n\n/**\n * 单关作答数据\n */\nexport class LevelData {\n    /** 关卡ID */\n    id: number = 0;\n    /** 题目信息 */\n    question_info: string = '';\n    /** 关卡作答结果  answer_error/answer_right/answer_half/no_answer */\n    answer_res: AnswerResult = AnswerResult.NoAnswer;\n    /** 关卡作答次数 */\n    answer_num: number = 0;\n    /** 关卡作答时间 */\n    answer_time: number = 0;\n}\n\n/**\n * 单关作答数据(额外上报)\n */\nexport class ExtraLevelData extends LevelData {\n    /** 关卡作答正确步数 */\n    correct_num: number = 0;\n    /** 关卡作答错误步数 */\n    wrong_num: number = 0;\n    /** 是否有结果 */\n    has_res: boolean = true;\n}\n\n/**\n * gameOver字段内容\n * 其中 percentage 字段在 未通关 的时候，数值为0\n */\nexport class GameOverData {\n    /** 正确率 */\n    percentage = 0;\n    /** 总作答状态 */\n    answer_all_state = AnswerResult.NoAnswer;\n    /** 总作答时间 */\n    answer_all_time = 0;\n    /** 完成度 */\n    complete_degree = 0;\n}\n\n/**\n * gameOver字段内容(额外上报)\n */\nexport class ExtraGameOverData extends GameOverData {\n    /** 总作答正确步数 */\n    game_correct_num: number = 0;\n    /** 总作答错误步数 */\n    game_wrong_num: number = 0;\n    /** 当前关卡id */\n    cur_level_id: number = 1;\n    /** 总关卡数 */\n    total_level_num: number = 0;\n    /** 星级 */\n    star_num: number = 0;\n    /** 总步数 */\n    step_count: number = 0;\n}\n\n/**\n * 额外数据上报\n * */\nexport class ExtraData {\n    /** 格式类型 */\n    type: string = 'txt';\n    /** 第几次作答 */\n    index: number = 1;\n    /** 关卡作答结果 */\n    result: ExtraLevelData[] = [];\n    /** gameOver数据 */\n    gameOver: ExtraGameOverData = new ExtraGameOverData();\n}\n\nexport class AdditionalLevelData extends LevelData {\n    /** 关卡作答正确步数 */\n    correct_num: number = 0;\n    /** 关卡作答错误步数 */\n    wrong_num: number = 0;\n}\n\nexport class AdditionalOver {\n    pass: boolean = false;\n}\n\nexport class AdditionalData {\n    gameOver: AdditionalOver = new AdditionalOver();\n    result: AdditionalLevelData[] = []\n}\n\nexport class ReportData {\n    /** 格式类型 */\n    type: string = 'txt';\n    /** 第几次作答 */\n    index: number = 1;\n    /** 关卡作答结果 */\n    result: LevelData[] = [];\n    /** gameOver数据 */\n    gameOver: GameOverData = new GameOverData();\n    /** 额外数据上报 */\n    ext: ExtraData = new ExtraData();\n\n    /**附加题数据 */\n    additional: AdditionalData = new AdditionalData();\n}\n"]}